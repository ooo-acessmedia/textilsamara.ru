var AjaxForm={initialize:function(a){jQuery().ajaxForm||document.write('<script src="'+a.assetsUrl+'js/lib/jquery.form.min.js"></script>'),jQuery().jGrowl||document.write('<script src="'+a.assetsUrl+'js/lib/jquery.jgrowl.min.js"></script>'),$(document).ready(function(){$.jGrowl.defaults.closerTemplate="<div>[ "+a.closeMessage+" ]</div>"}),$(document).on("submit",a.formSelector,function(b){return $(this).ajaxSubmit({dataType:"json",data:{pageId:a.pageId},url:a.actionUrl,beforeSerialize:function(a,b){a.find(":submit").each(function(){a.find('input[type="hidden"][name="'+$(this).attr("name")+'"]').length||$(a).append($('<input type="hidden">').attr({name:$(this).attr("name"),value:$(this).attr("value")}))})},beforeSubmit:function(a,b){return"undefined"!=typeof afValidated&&0==afValidated?!1:(b.find(".error").html(""),b.find(".error").removeClass("error"),b.find("input,textarea,select,button").attr("disabled",!0),!0)},success:function(a,b,c,d){if(d.find("input,textarea,select,button").attr("disabled",!1),a.form=d,$(document).trigger("af_complete",a),a.success)AjaxForm.Message.success(a.message),d.find(".error").removeClass("error"),d[0].reset();else if(AjaxForm.Message.error(a.message),a.data){var e,f;for(e in a.data)a.data.hasOwnProperty(e)&&(f=a.data[e],d.find(".error_"+e).html(f).addClass("error"),d.find('[name="'+e+'"]').addClass("error"))}}}),b.preventDefault(),!1}),$(document).on("reset",a.formSelector,function(a){$(this).find(".error").html(""),AjaxForm.Message.close()})}},messageLive=2e3,$formPopup=$(".form-popup"),$formFade=$(".form-fade"),$formPopupWrap=$(".form-popup-wrap"),successMessageShow=function(){$formPopup.add($formFade).removeClass("is-visible"),$formPopupWrap.removeClass("is-flex"),$("#jGrowl").addClass("is-flex"),setTimeout(function(){$("#jGrowl").removeClass("is-flex")},messageLive+1e3)},errorMessageShow=function(){$("#jGrowl").addClass("is-flex"),setTimeout(function(){$("#jGrowl").removeClass("is-flex")},messageLive+500)};AjaxForm.Message={success:function(a,b){a&&(b||(b=!1),$.jGrowl(a,{theme:"af-message-success",sticky:b,life:messageLive})),successMessageShow()},error:function(a,b){a&&(b||(b=!1),$.jGrowl(a,{theme:"af-message-error",sticky:b,life:messageLive})),errorMessageShow()},info:function(a,b){a&&(b||(b=!1),$.jGrowl(a,{theme:"af-message-info",sticky:b,life:messageLive}))},close:function(){$.jGrowl("close")}};